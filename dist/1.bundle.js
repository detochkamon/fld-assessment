(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{51:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsSAAALEgHS3X78AAAASUlEQVR4nGP4//8/AyWYIs2jBhAwIKl/GUdS/7JMKOYgx4D1Sf3L/kPxenIM+IRkwCdyDFiGZMAycgxgTupfFgnFzEMwGoeOAQCQTe1J20nG5QAAAABJRU5ErkJggg=="},52:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsSAAALEgHS3X78AAAAaElEQVR4nN3SIQ7AIBBE0TkFvpdAc5keoRcch0LONTAkuK2hCQKzIWnSii/nmV2YGXbaGv8dEHGIuEaHCxCRRDQRNmoikgco0/ipeIC+ALoHyAsge4Aook7jKiJ6rxBEnKPwwUd6DbgBXPDkL9UoAkEAAAAASUVORK5CYII="},53:function(e,t,n){"use strict";n.r(t);var r,i=n(0),o=n.n(i),a=n(51),c=n.n(a),l=n(52),u=n.n(l);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){var t=Object.assign({baseURL:"",textures:{},complete:function(){},convertToCanvas:!1},e),n=0,r=0,a=t.convertToCanvas,i=t.textures,o=t.complete,c={};var l=function e(t){var n={};for(var r in t)if("string"==typeof t[r])n[t[r]]=!0;else{var a=e(t[r]);n=Object.assign(n,a)}return n}(i);for(var u in l){var s=new Image;s.id=u,s.src=t.baseURL+u,s.dataId=u,s.onload=function(){r++,c[this.dataId]=a?Graphics.img2canvas({img:this}):this,h()},s.onerror=function(){r++,h()},n++}function h(){r==n&&(!function e(t,n){for(var r in t)"string"==typeof t[r]?t[r]=n[t[r]]:e(t[r],n)}(i,c),o())}0==n&&h()},O=(s(r={layers:[],scene:null,started:!1,paused:!1,pausedTime:0,canvas:null,ctx:null,animationAttached:!1,frames:0,startTime:Date.now(),runOnUpdate:[],runOnUpdateCallbacks:[],frameDuration:0,lastRenderTime:Date.now(),init:function(){O.started=!1,O.paused=!1,window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(O.render,0)},O.animationAttached||(window.requestAnimFrame(O.render),O.animationAttached=!0),O.currentTime=Date.now()},start:function(){O.started=!0;for(var e=0,t=O.layers.length;e<t;e++)O.layers[e].start()},pause:function(){O.paused=!0,O.pausedTime=O.currentTime;for(var e=0,t=O.layers.length;e<t;e++)O.layers[e].pause()},resume:function(){O.paused=!1;for(var e=0,t=O.layers.length;e<t;e++)O.layers[e].resume()},stop:function(){O.started=!1,O.paused=!1,O.layers=[],O.canvas.onClick=null},render:function(){if(O.currentTime=Date.now(),!O.started||O.paused)return window.requestAnimFrame(O.render),O.lastRenderTime=O.currentTime,void(O.frameDuration=0);if(O.runOnUpdateCallbacks.length)for(;O.runOnUpdateCallbacks.length;){O.runOnUpdateCallbacks.pop()()}for(var e=0,t=O.layers.length;e<t;e++)O.layers[e].render();O.frames++,1e3<O.currentTime-O.startTime&&(O.startTime=O.currentTime,O.frames=0),O.frameDuration=O.currentTime-O.lastRenderTime,O.frameDuration=Math.min(62.5,O.frameDuration),O.frameDuration=Math.max(0,O.frameDuration),O.lastRenderTime=O.currentTime,window.requestAnimFrame(O.render)},addLayer:function(e){O.layers.push(e)}},"runOnUpdate",function(e){O.runOnUpdateThread(e)}),s(r,"runOnUpdateThread",function(e){O.runOnUpdateCallbacks.push(e)}),r),I=function(e){var r=this,a=Object.assign({canvas:null,autoInvalidate:!0},e);r.ctx=a.canvas?a.canvas.getContext("2d"):null,r.width=a.canvas?a.canvas.width:0,r.height=a.canvas?a.canvas.height:0,r.children=[],r.alpha=1,r.dirty=!1,r.invalidate=function(){r.dirty=!0},r.appendChild=function(e){(e.parent=r).children.push(e)},r.removeChild=function(e){for(var t=0,n=r.children.length;t<n;t++)if(r.children[t]===e){r.children.splice(t,1);break}},r.sortChildren=function(){r.children.sort(function(e,t){return e.zIndex-t.zIndex})},r.start=function(){for(var e=0,t=r.children.length;e<t;e++)r.children[e].startModifier()},r.pause=function(){for(var e=0,t=r.children.length;e<t;e++)r.children[e].pauseModifier()},r.resume=function(){for(var e=0,t=r.children.length;e<t;e++)r.children[e].resumeModifier()},r.render=function(){for(var e=O.frameDuration/1e3,t=0,n=r.children.length;t<n;t++)r.children[t].update(e);if(r.dirty){r.ctx&&r.ctx.clearRect(0,0,r.width,r.height);for(t=0,n=r.children.length;t<n;t++)r.children[t].render(r.ctx)}r.dirty=a.autoInvalidate},r.onClick=function(i){a.canvas.onclick=function(e){var t=e.clientX,n=e.clientY,r=e.pageX-n,a=e.pageY-t;i(r,a)}}},R=function e(t){var c=this,n=Object.assign({x:0,y:0,width:0,texture:null,shading:null,height:0,alpha:1,scale:1,scaleX:1,scaleY:1,rotate:0,zIndex:1,center:null},t);c.data={},c.x=n.x,c.y=n.y,c.scaleX=n.scaleX,c.scaleY=n.scaleY,c.alpha=n.alpha,c.texture=n.texture,c.visible=!0,c.modifiers=[],c.width=c.texture?c.texture.width:n.width,c.height=c.texture?c.texture.height:n.height,c.rotate=n.rotate,c.zIndex=n.zIndex,c.children=[],c.parent=null,c.beforeUpdateCallbacks=[],c.afterUpdateCallbacks=[];var l=n.center?n.center.x:Math.round(c.width/2),u=n.center?n.center.y:Math.round(c.height/2);c.clone=function(){return new e({x:c.x,y:c.y,width:c.width,height:c.height,texture:c.texture,shading:null,alpha:c.alpha,scaleX:c.scaleX,scaleY:c.scaleY,rotate:c.rotate,zIndex:c.zIndex,center:null})},c.setRotationCenter=function(e,t){l=null!=e?e:l,u=null!=t?t:u},c.recalcCenter=function(){l=Math.round(c.width/2),u=Math.round(c.height/2)},c.render=function(e){if(c.visible){for(var t=c.alpha,n=c.parent;n;)t*=n.alpha,n=n.parent;if(c.texture){if(e.save(),e.globalAlpha=t,e.translate(c.x+l,c.y+u),e.rotate(U.d2r(c.rotate)),e.scale(c.scaleX||1e-4,c.scaleY||1e-4),c.texture instanceof SpriteSheetFrame){var r=c.texture.trimmedWidth,a=c.texture.trimmedHeight;e.drawImage(c.texture.getTexture(),c.texture.sx,c.texture.sy,c.texture.sw,c.texture.sh,-l+c.texture.ox,-u+c.texture.oy,r,a)}else e.drawImage(c.texture,-l,-u);e.restore()}e.save(),e.globalAlpha=t,e.translate(c.x+l,c.y+u),e.rotate(U.d2r(c.rotate)),e.scale(c.scaleX||1e-4,c.scaleY||1e-4),e.translate(-l,-u);for(var i=0,o=c.children.length;i<o;i++)c.children[i].render(e);e.restore()}},c.update=function(e){for(var t=0,n=c.beforeUpdateCallbacks.length;t<n;t++)c.beforeUpdateCallbacks[t].call(c,e);for(t=0,n=c.modifiers.length;t<n;t++)c.modifiers[t].update(e);for(t=0,n=c.children.length;t<n;t++)c.children[t].update(e);for(t=0,n=c.afterUpdateCallbacks.length;t<n;t++)c.afterUpdateCallbacks[t].call(c,e)},c.attachModifier=function(e){c.modifiers.push(e),e.setTarget(c),O.started&&e.start()},c.removeModifiers=function(){c.modifiers=[]},c.removeModifier=function(e){for(var t=0,n=c.modifiers.length;t<n;t++)if(c.modifiers[t]===e){c.modifiers.splice(t,1);break}},c.setVisibility=function(e){c.visible=e},c.startModifier=function(){for(var e=0,t=c.modifiers.length;e<t;e++)c.modifiers[e].start()},c.pauseModifier=function(){for(var e=0,t=c.modifiers.length;e<t;e++)c.modifiers[e].pause()},c.resumeModifier=function(){for(var e=0,t=c.modifiers.length;e<t;e++)c.modifiers[e].resume()},c.hitTest=function(e,t){return e>=c.x&&t>=c.y&&e<=c.x+c.width*c.scaleX&&t<=c.y+c.height*c.scaleY},c.deepHitTest=function(e,t){for(var n=0,r=0,a=c.parent;!(a instanceof I);)n+=a.x,r+=a.y,a=a.parent;return t-=r,(e-=n)>=c.x&&t>=c.y&&e<=c.x+c.width*c.scaleX&&t<=c.y+c.height*c.scaleY},c.checkOverlap=function(e){return!(c.x+c.width*c.scaleX<=e.x||c.y+c.height*c.scaleY<=e.y||c.x>=e.x+e.width*e.scaleX||c.y>=e.y+e.height*e.scaleY)},c.getWidth=function(){return Math.round(c.width*c.scaleX)},c.getHeight=function(){return Math.round(c.height*c.scaleY)},c.setPosition=function(e,t){c.x=e,c.y=t},c.appendChild=function(e){(e.parent=c).children.push(e)},c.removeChild=function(e){for(var t=0,n=c.children.length;t<n;t++)if(c.children[t]===e){c.children[t].parent=null,c.children.splice(t,1);break}},c.sortChildren=function(){c.children.sort(function(e,t){return e.zIndex-t.zIndex})},c.onBeforeUpdate=function(e){c.beforeUpdateCallbacks.push(e)},c.onAfterUpdate=function(e){c.afterUpdateCallbacks.push(e)},c.clearOnUpdate=function(){c.beforeUpdateCallbacks=[],c.afterUpdateCallbacks=[]},c.getRect=function(){var e=[];return e.push({x:this.x,y:this.y}),e.push({x:this.x+this.width,y:this.y}),e.push({x:this.x+this.width,y:this.y+this.height}),e.push({x:this.x,y:this.y+this.height}),e},c.center=function(){c.centerX(),c.centerY()},c.centerX=function(){c.x=~~((c.parent.width-c.width)/2)},c.centerY=function(){c.y=~~((c.parent.height-c.height)/2)}};function d(e,t){this.x=e||0,this.y=t||0}function T(e){var t=Object.assign({x:0,y:0,gx:0,gy:0,gv:100,agx:0,agy:0,agv:100,agr:50,chaos:!0},e),c=this;c.x=t.x,c.y=t.y,c.vx=0,c.vy=0,c.speed=0,c.gx=t.gx,c.gy=t.gy,c.gv=t.gv,c.agx=t.agx,c.agy=t.agy,c.agv=t.agv,c.agr=t.agr,c.chaos=t.chaos,c.update=function(e){var t=c.gx-c.x,n=c.gy-c.y,r=c.gv,a=~~(t*t+n*n);0==(i=Math.sqrt(a))?t=n=0:(t=t*r/i,n=n*r/i),c.vx+=t,c.vy+=n,c.chaos&&i<60&&(c.gx=U.Rnd(600)+100,c.gy=U.Rnd(400)+100);a=~~((t=-(c.agx-c.x))*t+(n=-(c.agy-c.y))*n);var i=Math.sqrt(a),o=c.agv;0==i?t=n=0:i<c.agr&&(t=t*o/i,n=n*o/i,c.vx+=t,c.vy+=n),c.vx*=1-2*e,c.vy*=1-2*e,c.x=~~(c.x+c.vx*e),c.y=~~(c.y+c.vy*e)}}d.prototype.add=function(e){this.x+=e.x,this.y+=e.y},d.prototype.getMagnitude=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},d.prototype.getAngle=function(){return Math.atan2(this.y,this.x)},d.fromAngle=function(e,t){return new d(t*Math.cos(e),t*Math.sin(e))};var U={isInt:function(e){return e%1==0},Rnd:function(e){return U.isInt(e)?Math.round(Math.random()*e):Math.random()*e}},f=function(e,t,C,k){var M={particle:e,gravity:t};h({textures:M,complete:function(){var e=[],t=document.createElement("canvas");t.width=C.width,t.height=C.height;var n=t.getContext("2d");n.font="20px sans-serif",n.textAlign="left",n.textBaseline="top",n.fillStyle="#fff";var r=n.measureText(k);t.width=r.width,t.height=20,n.font="20px sans-serif",n.textAlign="left",n.textBaseline="top",n.fillStyle="#fff",n.fillText(k,0,0);for(var a=n.getImageData(0,0,t.width,t.height),i=[],o=0,c=a.data.length;o<c;o+=4)if(128<a.data[o+3]){var l=o/4%a.width,u=~~(o/4/a.width);i.push({x:l,y:u})}var s=~~(700/a.width),h=C.width/2-s*a.width/2,d=C.height/2-s*a.height/2,f=!0;for(o=0;o<1e6;o++)e.push(Math.sqrt(o));var p=new I({canvas:C,autoInvalidate:!0});O.addLayer(p);var g=new R;g.onBeforeUpdate(function(e){for(var t=0,n=m.length;t<n;t++)m[t].data.particle.update(e),m[t].x=m[t].data.particle.x-m[t].width/2,m[t].y=m[t].data.particle.y-m[t].height/2}),g.render=function(e){for(var t=0,n=m.length;t<n;t++)e.drawImage(m[t].texture,m[t].x,m[t].y)},p.appendChild(g);var y,v=i.length+30,m=[];for(o=0;o<v;o++){var x=new R({texture:(y=[M.particle,M.gravity],1<y.length?y[Math.round(Math.random()*(y.length-1))]:0<y.length?y[0]:null)});x.data.particle=new T({x:100,y:100,gx:200,gy:200,gv:10,agv:35,agr:60,chaos:!0});var w=2*Math.random()*Math.PI;l=400+~~(400*(1+Math.random())*Math.sin(w)),u=300+~~(400*(1+Math.random())*Math.cos(w));if(x.data.particle.x=l,x.data.particle.y=u,o<i.length){var A=i[o];x.data.particle.gx=A.x*s+h,x.data.particle.gy=A.y*s+d,x.data.particle.chaos=!1}else x.data.particle.gx=U.Rnd(600)+100,x.data.particle.gy=U.Rnd(400)+100;x.x=x.data.particle.x-x.width/2,x.y=x.data.particle.y-x.height/2,x.onBeforeUpdate(function(e){this.data.particle.update(e),this.x=this.data.particle.x-this.width/2,this.y=this.data.particle.y-this.height/2}),x.render=function(e){e.drawImage(this.texture,this.x,this.y)};var b=new R({texture:M.gravity});b.visible=!1,b.x=x.data.particle.gx-b.width/2,b.y=x.data.particle.gy-b.height/2,m.push(x)}O.init(),O.start(),C.onclick=function(e){if(f=!f)for(var t=0,n=m.length;t<n&&t<i.length;t++){var r=i[t];m[t].data.particle.gx=r.x*s+h,m[t].data.particle.gy=r.y*s+d,m[t].data.particle.chaos=!1}else for(t=0,n=m.length;t<n;t++)m[t].data.particle.chaos=!0},C.onmousemove=function(e){var t,n,r=this.getBoundingClientRect();t=e.clientX-r.left,n=e.clientY-r.top;for(var a=0,i=m.length;a<i;a++)m[a].data.particle.agx=t,m[a].data.particle.agy=n}}})};function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var x=function(e){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=y(this,v(n).call(this,e))).canvasRef=o.a.createRef(),t}var t,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(n,i["Component"]),t=n,(r=[{key:"componentDidMount",value:function(){f(c.a,u.a,this.canvasRef.current,this.props.text)}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("canvas",{width:"800",height:"600",ref:this.canvasRef}))}}])&&g(t.prototype,r),a&&g(t,a),n}(),w=n(6),A=n.n(w);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var E=function(e){function a(e){var t,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),n=this,(t=!(r=k(a).call(this,e))||"object"!==b(r)&&"function"!=typeof r?S(n):r).logout=t.logout.bind(S(S(t))),t}var t,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(a,i["Component"]),t=a,(n=[{key:"logout",value:function(){A.a.get("/api/deauthenticate"),this.props.onLogout()}},{key:"render",value:function(){return o.a.createElement("div",{className:"protected-area"},o.a.createElement("h1",null,"Protected area"),o.a.createElement("button",{className:"nice-button logout",onClick:this.logout},"Logout"),o.a.createElement(x,{text:this.props.username}))}}])&&C(t.prototype,n),r&&C(t,r),a}();t.default=E}}]);